# trial_reservation_extract_script
_*テンプレート化の上公開について、許可取得済み*_
## 概要  
業務で使われていたシステムの刷新のために作られたスクリプト
Stores APIをたたいた際に取得した最新の予約情報をスプレッドシート上の情報とソートし、
新規であると確認できたデータを出力するスクリプト。
CRUD対応  
2025/3/31 運用終了  

## 技術スタック
言語: Javascript(gs)  
使用API: Stores API  
その他: SpreadsheetSQL (https://github.com/roana0229/spreadsheets-sql)  
CLI: crasp, github  

## 動作  
Storesに登録されている情報が校舎ごとに異なり、送られてくる情報が統一されていません。  
そこで、取得したデータの情報を確認し、Switchにて異なるデータごとに対応をさせてあげています。  
以下流れ  
```
スタート
↓
データ取得(stores api)
↓
スプレッドシート記入(insert || change || return)
↓
新データのカレンダー適用
↓
更新データ確認
↓
カレンダー更新
↓
End
```

## 反省点
・命名規則が定まってない -> 何が起きてるかわからない -> スパゲッティコード化  
改善案: 規則を決める, オブジェクト指向に変更してみる(1ファイル1クラス規則)  

リーダブルコードを購入したので、学習中...
